C51 COMPILER V9.60.7.0   PID_OPERATION                                                     05/16/2025 09:35:07 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE PID_OPERATION
OBJECT MODULE PLACED IN .\Objects\PID_operation.obj
COMPILER INVOKED BY: D:\keil5C51\C51\BIN\C51.EXE PID_operation.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Lis
                    -tings\PID_operation.lst) OBJECT(.\Objects\PID_operation.obj)

line level    source

   1          #define uchar unsigned char
   2          #define uint  unsigned int
   3          int  ek=0,ek_1=0,ek_sum=0;
   4          int  Kp=2,Kd=9;
   5          float Ki=0.1;
   6          void PID_format()
   7          {
   8   1              ek=0;
   9   1              ek_1=0;
  10   1              ek_sum=0;
  11   1      }
  12          PID_operation(int Set_data,Cur_data)//PID?????
  13          {
  14   1              int Kp_coe=0, Ki_coe=0, Kd_coe=0,U_k=0;
  15   1                      ek_1=ek;
  16   1                      ek=(Set_data-Cur_data);//??????
  17   1                ek_sum+=ek;
  18   1                if(ek_sum>800) ek_sum=800;
  19   1                else if(ek_sum<-800) ek_sum=-800;
  20   1                      Kp_coe=Kp*ek;
  21   1                      Ki_coe=Ki*ek_sum;
  22   1                      Kd_coe=Kd*(ek-ek_1);
  23   1                      U_k=Kp_coe+Ki_coe+Kd_coe;
  24   1                      if(U_k<0) U_k=0;
  25   1                      else if(U_k>100)U_k=100;
  26   1                      return(U_k);
  27   1       }
  28                  


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    207    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     14       4
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
